{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Context}from\"../index\";import{getHeroes,getHeroesCount}from\"../http/heroAPI\";import HeroCard from\"../components/HeroCard\";import{observer}from\"mobx-react-lite\";import classes from'./css.modules/History.module.css';import HeroList from\"../components/HeroList\";import AddHistoryBtn from\"../components/AddHistoryBtn\";import Pages from\"../components/pages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var History=observer(function(){var _useContext=useContext(Context),hero=_useContext.hero;var limit=0;if(window.innerWidth>1700){limit=6;}if(window.innerWidth<1700){limit=4;}if(window.innerWidth<780){limit=3;}useEffect(function(){getHeroesCount(hero.page,limit).then(function(data){hero.setHeroes(data.rows);hero.setTotalCount(data.count);});},[hero.page]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeroList,{}),/*#__PURE__*/_jsx(AddHistoryBtn,{}),/*#__PURE__*/_jsx(Pages,{limit:limit})]});});export default History;","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","getHeroes","getHeroesCount","HeroCard","observer","classes","HeroList","AddHistoryBtn","Pages","jsx","_jsx","jsxs","_jsxs","History","_useContext","hero","limit","window","innerWidth","page","then","data","setHeroes","rows","setTotalCount","count","children"],"sources":["D:/projects/kollege_task/client/src/pages/History.jsx"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {Context} from \"../index\";\r\nimport {getHeroes, getHeroesCount} from \"../http/heroAPI\";\r\nimport HeroCard from \"../components/HeroCard\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport classes from './css.modules/History.module.css'\r\nimport HeroList from \"../components/HeroList\";\r\nimport AddHistoryBtn from \"../components/AddHistoryBtn\";\r\nimport Pages from \"../components/pages\";\r\nconst History = observer(() => {\r\n    const {hero} = useContext(Context)\r\n    let limit = 0\r\n    if (window.innerWidth > 1700){\r\n        limit = 6\r\n    }\r\n    if (window.innerWidth < 1700){\r\n        limit = 4\r\n    }\r\n    if (window.innerWidth < 780){\r\n        limit = 3\r\n    }\r\n\r\n    useEffect(() => {\r\n        getHeroesCount(hero.page, limit).then(data => {\r\n            hero.setHeroes(data.rows)\r\n            hero.setTotalCount(data.count)\r\n        })\r\n    }, [hero.page])\r\n    return (\r\n        <div>\r\n            <HeroList/>\r\n            <AddHistoryBtn/>\r\n            <Pages limit={limit}/>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default History;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC5D,OAAQC,OAAO,KAAO,UAAU,CAChC,OAAQC,SAAS,CAAEC,cAAc,KAAO,iBAAiB,CACzD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,MAAO,CAAAC,OAAO,KAAM,kCAAkC,CACtD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CACvD,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACxC,GAAM,CAAAC,OAAO,CAAGT,QAAQ,CAAC,UAAM,CAC3B,IAAAU,WAAA,CAAejB,UAAU,CAACG,OAAO,CAAC,CAA3Be,IAAI,CAAAD,WAAA,CAAJC,IAAI,CACX,GAAI,CAAAC,KAAK,CAAG,CAAC,CACb,GAAIC,MAAM,CAACC,UAAU,CAAG,IAAI,CAAC,CACzBF,KAAK,CAAG,CAAC,CACb,CACA,GAAIC,MAAM,CAACC,UAAU,CAAG,IAAI,CAAC,CACzBF,KAAK,CAAG,CAAC,CACb,CACA,GAAIC,MAAM,CAACC,UAAU,CAAG,GAAG,CAAC,CACxBF,KAAK,CAAG,CAAC,CACb,CAEAlB,SAAS,CAAC,UAAM,CACZI,cAAc,CAACa,IAAI,CAACI,IAAI,CAAEH,KAAK,CAAC,CAACI,IAAI,CAAC,SAAAC,IAAI,CAAI,CAC1CN,IAAI,CAACO,SAAS,CAACD,IAAI,CAACE,IAAI,CAAC,CACzBR,IAAI,CAACS,aAAa,CAACH,IAAI,CAACI,KAAK,CAAC,CAClC,CAAC,CAAC,CACN,CAAC,CAAE,CAACV,IAAI,CAACI,IAAI,CAAC,CAAC,CACf,mBACIP,KAAA,QAAAc,QAAA,eACIhB,IAAA,CAACJ,QAAQ,GAAC,CAAC,cACXI,IAAA,CAACH,aAAa,GAAC,CAAC,cAChBG,IAAA,CAACF,KAAK,EAACQ,KAAK,CAAEA,KAAM,CAAC,CAAC,EACrB,CAAC,CAEd,CAAC,CAAC,CAEF,cAAe,CAAAH,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}