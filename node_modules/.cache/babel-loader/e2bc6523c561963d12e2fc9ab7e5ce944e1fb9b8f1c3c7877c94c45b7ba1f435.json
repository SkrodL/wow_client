{"ast":null,"code":"import _objectSpread from\"D:/projects/kollege_task/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/projects/kollege_task/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{Context}from'..';import{getHeroes}from'../http/heroAPI';import Slider from'react-slick';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import classes from\"./css.modules/Gallery.module.css\";import PrevArrowSlider from'../components/PrevArrowSlider';import NextArrowSlider from'../components/NextArrowSlider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Gallery=function Gallery(){var _useContext=useContext(Context),hero=_useContext.hero;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heroes=_useState2[0],setHeroes=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var settings={autoplay:true,arrows:true,dots:false,infinite:true,speed:2000,prevArrow:/*#__PURE__*/_jsx(PrevArrowSlider,{}),nextArrow:/*#__PURE__*/_jsx(NextArrowSlider,{})};useEffect(function(){getHeroes().then(function(data){return setHeroes(data);}).then(function(){return setIsLoading(false);});},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}return/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{className:classes.slider,children:heroes.map(function(hero,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes.sliderItem,children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_API_URL+hero.photo}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:hero.name}),/*#__PURE__*/_jsx(\"h4\",{children:hero.rank})]})]},index);})}));};export default Gallery;","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","getHeroes","Slider","classes","PrevArrowSlider","NextArrowSlider","jsx","_jsx","jsxs","_jsxs","Gallery","_useContext","hero","_useState","_useState2","_slicedToArray","heroes","setHeroes","_useState3","_useState4","isLoading","setIsLoading","settings","autoplay","arrows","dots","infinite","speed","prevArrow","nextArrow","then","data","children","_objectSpread","className","slider","map","index","sliderItem","src","process","env","REACT_APP_API_URL","photo","name","rank"],"sources":["D:/projects/kollege_task/client/src/pages/Gallery.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '..'\r\nimport { getHeroes } from '../http/heroAPI'\r\nimport Slider from 'react-slick'\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport classes from \"./css.modules/Gallery.module.css\";\r\nimport PrevArrowSlider from '../components/PrevArrowSlider'\r\nimport NextArrowSlider from '../components/NextArrowSlider'\r\n\r\nconst Gallery = () => {\r\n    const {hero} = useContext(Context);\r\n    const [heroes, setHeroes] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const settings = {\r\n\t\tautoplay: true,\r\n\t\tarrows: true,\r\n\t\tdots: false,\r\n\t\tinfinite: true,\r\n\t\tspeed: 2000,\r\n        prevArrow: <PrevArrowSlider />,\r\n\t\tnextArrow: <NextArrowSlider />,\r\n\t}\r\n\r\n    useEffect(() => {\r\n        getHeroes().then(data => setHeroes(data)).then(() => setIsLoading(false));\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <div>загрузка...</div>\r\n    }\r\n\r\n    return (\r\n        <Slider\r\n            {...settings}\r\n            className={classes.slider}\r\n        >\r\n            {heroes.map((hero, index) =>\r\n                <div className={classes.sliderItem} key={index}>\r\n                    <img src={process.env.REACT_APP_API_URL + hero.photo} />\r\n                    <div>\r\n                        <h1>{hero.name}</h1>\r\n                        <h4>{hero.rank}</h4>\r\n                    </div>\r\n                </div>    \r\n            )}\r\n        </Slider>\r\n    );\r\n};\r\n\r\nexport default Gallery;"],"mappings":"yOAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,OAAO,KAAQ,IAAI,CAC5B,OAASC,SAAS,KAAQ,iBAAiB,CAC3C,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,gCAAgC,CACvC,MAAO,sCAAsC,CAC7C,MAAO,CAAAC,OAAO,KAAM,kCAAkC,CACtD,MAAO,CAAAC,eAAe,KAAM,+BAA+B,CAC3D,MAAO,CAAAC,eAAe,KAAM,+BAA+B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClB,IAAAC,WAAA,CAAed,UAAU,CAACG,OAAO,CAAC,CAA3BY,IAAI,CAAAD,WAAA,CAAJC,IAAI,CACX,IAAAC,SAAA,CAA4Bd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAAkCnB,QAAQ,CAAC,IAAI,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAE9B,GAAM,CAAAG,QAAQ,CAAG,CACnBC,QAAQ,CAAE,IAAI,CACdC,MAAM,CAAE,IAAI,CACZC,IAAI,CAAE,KAAK,CACXC,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,IAAI,CACLC,SAAS,cAAErB,IAAA,CAACH,eAAe,GAAE,CAAC,CACpCyB,SAAS,cAAEtB,IAAA,CAACF,eAAe,GAAE,CAC9B,CAAC,CAEEP,SAAS,CAAC,UAAM,CACZG,SAAS,CAAC,CAAC,CAAC6B,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAd,SAAS,CAACc,IAAI,CAAC,GAAC,CAACD,IAAI,CAAC,iBAAM,CAAAT,YAAY,CAAC,KAAK,CAAC,GAAC,CAC7E,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,SAAS,CAAE,CACX,mBAAOb,IAAA,QAAAyB,QAAA,CAAK,qDAAW,CAAK,CAAC,CACjC,CAEA,mBACIzB,IAAA,CAACL,MAAM,CAAA+B,aAAA,CAAAA,aAAA,IACCX,QAAQ,MACZY,SAAS,CAAE/B,OAAO,CAACgC,MAAO,CAAAH,QAAA,CAEzBhB,MAAM,CAACoB,GAAG,CAAC,SAACxB,IAAI,CAAEyB,KAAK,qBACpB5B,KAAA,QAAKyB,SAAS,CAAE/B,OAAO,CAACmC,UAAW,CAAAN,QAAA,eAC/BzB,IAAA,QAAKgC,GAAG,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAG9B,IAAI,CAAC+B,KAAM,CAAE,CAAC,cACxDlC,KAAA,QAAAuB,QAAA,eACIzB,IAAA,OAAAyB,QAAA,CAAKpB,IAAI,CAACgC,IAAI,CAAK,CAAC,cACpBrC,IAAA,OAAAyB,QAAA,CAAKpB,IAAI,CAACiC,IAAI,CAAK,CAAC,EACnB,CAAC,GAL+BR,KAMpC,CAAC,EACV,CAAC,EACG,CAAC,CAEjB,CAAC,CAED,cAAe,CAAA3B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}